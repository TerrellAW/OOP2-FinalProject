<div>
    <h2>@SelectedDate.ToString("dd-MM-yyyy")</h2>
    <p>@GetWeatherForSelectedDate()</p>
    <!--<p>@DisplayEvents</p>-->
    <div class="mt-5 d-flex justify-content-center">
        <NavLink href="./new-event" class="event-manager-button size-medium text-center text-decoration-none">Create New Event</NavLink>
    </div>
    <button @onclick="ClosePopup">Close</button>
</div>

@code {
    [Parameter]
    public DateTime SelectedDate { get; set; }

    [Parameter]
    public EventCallback OnClose { get; set; }

    private string GetWeatherForSelectedDate()
    {
        string date = SelectedDate.ToString("yyyy-MM-dd");

        Weather? matchingWeather = FetchAPI.weatherList.GetWeatherDataByDate(date);

        if (matchingWeather == null)
        {
            return "No weather data available.";
        }
        return matchingWeather.ToString();
    }

    private async Task ClosePopup()
    {
        await OnClose.InvokeAsync(null);
    }
}
